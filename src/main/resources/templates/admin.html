<html xmlns:th="https://www.thymeleaf.org" ng-app="atsApp">
<head>
<title>ATS - Admin Home</title>
<link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css"
	rel="stylesheet">
<link rel="stylesheet" type="text/css"
	th:href="@{/assets/css/style.css}"></link>
<script type="text/javascript"
	src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.8/angular.min.js"></script>
</head>
<body ng-controller="adminHomeController">
	<nav
		class="flex items-center justify-between flex-wrap bg-gray-700 p-6">
		<div class="flex items-center flex-shrink-0 text-white mr-6">
			<span class="font-semibold text-xl tracking-tight">Spring ATS</span>
		</div>
		<div class="w-full block flex-grow lg:flex lg:items-center lg:w-auto">
			<div class="text-sm lg:flex-grow"></div>
			<div>
				<a href="#" class="inline-block mt-0 text-white mr-4"
					th:text="${username}"> Name </a> <a href="logout"
					class="inline-block text-sm px-4 py-2 leading-none hover:text-teal-400 text-white mt-0">Logout</a>
			</div>
		</div>
	</nav>
	<div class="container mx-auto m-4">
		<div class="flex mb-4">
			<div class="w-1/4 h-64">
				<ul class="list-none">
					<li
						class="p-4 border-2 border-white cursor-pointer rounded hover:font-medium"
						ng-click="selectMenu(1)"
						ng-class="{'text-white bg-teal-700' : menuItem===1, 'text-teal-700 hover:border-gray-300' : menuItem!==1}">Manage
						Users</li>
					<li
						class="p-4 border-2 border-white cursor-pointer rounded text-teal-700 hover:font-medium"
						ng-click="selectMenu(2)"
						ng-class="{'text-white bg-teal-700' : menuItem===2, 'text-teal-700 hover:border-gray-300' : menuItem!==2}">Assignment</li>
					<li
						class="p-4 border-2 border-white cursor-pointer rounded text-teal-700 hover:font-medium"
						ng-click="selectMenu(3)"
						ng-class="{'text-white bg-teal-700' : menuItem===3, 'text-teal-700 hover:border-gray-300' : menuItem!==3}">Courses</li>
					<li
						class="p-4 border-2 border-white cursor-pointer rounded text-teal-700 hover:font-medium"
						ng-click="selectMenu(4)"
						ng-class="{'text-white bg-teal-700' : menuItem===4, 'text-teal-700 hover:border-gray-300' : menuItem!==4}">Manage
						Staff</li>
				</ul>
			</div>
			<div class="w-3/4 h-auto p-5 border-2 rounded">
				<div th:if="${message}"
					class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 mb-3 rounded relative"
					role="alert">
					<strong class="font-bold">Success!!</strong> <span
						class="block sm:inline" th:text="${message}"></span> <span
						class="absolute top-0 bottom-0 right-0 px-4 py-3"> </span>
				</div>
				<div class="w-full flex flex-row-reverse">
					<div class="inline-flex">
						<form th:action="@{/admin/upload/users}" method="post"
							enctype="multipart/form-data">
							<input type="file" name="users" accept=".json"
								class="bg-gray-300 p-1 rounded-l w-32" />
							<button type="submit"
								class="bg-gray-300 hover:bg-gray-400 text-gray-800 py-2 px-4 font-bold rounded-none"
								title="Upload users here">Upload</button>
						</form>
						<a th:href="@{download/users}" target="_blank">
							<button
								class="bg-gray-300 hover:bg-gray-400 text-gray-800 py-2 px-4 font-bold rounded-r"
								title="Download template">Download</button>
						</a>
					</div>
				</div>
				<table class="table-fixed">
					<thead>
						<tr>
							<th class="w-1/5 px-4 py-2">#</th>
							<th class="w-1/5 px-4 py-2">Name</th>
							<th class="w-2/5 px-4 py-2">Email</th>
							<th class="w-1/5 px-4 py-2">Joined on</th>
							<th class="w-1/5 px-4 py-2">Status</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="user,itr: ${users}">
							<td class="border px-4 py-2 text-center" th:text="${itr.index + 1}"></td>
							<td class="border px-4 py-2" th:text="${user.username}"></td>
							<td class="border px-4 py-2" th:text="${user.email}"></td>
							<td class="border px-4 py-2 text-center"
								th:text="${#dates.format(user.createdOn, 'dd MMM yyyy')}"></td>
							<td class="border px-4 py-2 text-center"
								th:if="${user.isLocked}!=true">
								<div class="inline bg-green-400 px-1 pl-4 rounded-full"></div>
							</td>
							<td class="border px-4 py-2 text-center"
								th:if="${user.isLocked}==true">
								<div class="inline bg-red-400 px-1 pl-4 rounded-full"></div>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
	<script type="text/javascript" th:src="@{/assets/js/app.js}"></script>
	<script type="text/javascript" th:src="@{/assets/js/controller.js}"></script>
</body>
</html>